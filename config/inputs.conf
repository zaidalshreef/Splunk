# =============================================================================
# Splunk Universal Forwarder - Inputs Configuration
# =============================================================================
# Place this file in: /opt/splunkforwarder/etc/system/local/inputs.conf

[default]
# Set the host to the hostname of this machine
host = $HOSTNAME

# =============================================================================
# System Logs
# =============================================================================

[monitor:///var/log/syslog]
disabled = false
index = linux
sourcetype = syslog
followTail = 0

[monitor:///var/log/auth.log]
disabled = false
index = security
sourcetype = linux_secure
followTail = 0

[monitor:///var/log/kern.log]
disabled = false
index = linux
sourcetype = linux_kernel
followTail = 0

# =============================================================================
# Docker Metrics (Container health, Swarm, Stats)
# =============================================================================
# Collected by docker-metrics-collector.sh running every minute via systemd

[monitor:///var/log/docker-metrics.log]
disabled = false
index = docker
sourcetype = docker:metrics

[monitor:///var/lib/docker/containers/*/*-json.log]
disabled = false
index = docker
sourcetype = docker:container:json
ignoreOlderThan = 7d

[monitor:///etc/dokploy/logs/]
disabled = false
index = docker
sourcetype = dokploy:app
ignoreOlderThan = 30d

# =============================================================================
# Traefik Proxy Logs
# =============================================================================
# Adjust the path based on your Traefik configuration

[monitor:///etc/dokploy/traefik/dynamic/access.log]
disabled = false
index = traefik
sourcetype = traefik:access
ignoreOlderThan = 30d

# Alternative Traefik log paths (uncomment as needed):
#[monitor:///var/log/traefik/access.log]
#disabled = false
#index = traefik
#sourcetype = traefik:access

# =============================================================================
# Docker Container Logs (Alternative to docker:metrics)
# =============================================================================

#[monitor:///var/lib/docker/containers/*/*-json.log]
#disabled = false
#index = docker
#sourcetype = docker:container:json
#time_format = %Y-%m-%dT%H:%M:%S.%9N

# =============================================================================
# Application Logs (Optional - uncomment as needed)
# =============================================================================

#[monitor:///var/log/dpkg.log]
#disabled = false
#index = linux
#sourcetype = dpkg

# =============================================================================
# Network Logs (Optional)
# =============================================================================

#[monitor:///var/log/ufw.log]
#disabled = false
#index = network
#sourcetype = ufw

# =============================================================================
# Audit Logs
# =============================================================================

#[monitor:///var/log/audit/audit.log]
#disabled = false
#index = security
#sourcetype = linux_audit
